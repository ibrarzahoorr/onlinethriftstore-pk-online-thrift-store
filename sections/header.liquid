<link rel="stylesheet" href="{{ 'component-list-menu.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-search.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-menu-drawer.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-cart-notification.css' | asset_url }}" media="print" onload="this.media='all'">

{%- if settings.predictive_search_enabled -%}
  <link rel="stylesheet" href="{{ 'component-price.css' | asset_url }}" media="print" onload="this.media='all'">
{%- endif -%}

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
  body, .header, .list-menu, .menu-banner, .header__icons, .header__heading-link {
    font-family: 'Poppins', sans-serif !important;
    font-size: 16px !important;
    font-weight: 500 !important;
    letter-spacing: 0.4px;
    color: #111 !important;
  }

  .header, .page-width {
    max-width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  .list-menu,
  .list-menu li {
    list-style: none !important;
    margin: 0;
    padding: 0;
  }

  /* Alignment options */
  .logo-left { text-align: left; }
  .logo-center { text-align: center; }
  .logo-right { text-align: right; }

  .menu-left { justify-content: flex-start; }
  .menu-center { justify-content: center; }
  .menu-right { justify-content: flex-end; }

  .header__heading-logo {
    max-width: {{ section.settings.logo_width | default: 150 }}px;
    height: auto;
  }
</style>

<script src="{{ 'cart-notification.js' | asset_url }}" defer="defer"></script>

<sticky-header class="header-wrapper color-{{ section.settings.color_scheme }}">
  <header class="header page-width">

    <!-- Logo -->
    <div class="header__heading logo-{{ section.settings.logo_position }}">
      <a href="{{ routes.root_url }}" class="header__heading-link link link--text focus-inset">
        {% if section.settings.logo_image != blank %}
          {{ section.settings.logo_image | image_url: width: section.settings.logo_width | image_tag: class: 'header__heading-logo', alt: shop.name }}
        {% elsif settings.logo != blank %}
          {{ settings.logo | image_url: width: section.settings.logo_width | image_tag: class: 'header__heading-logo', alt: shop.name }}
        {% else %}
          <span class="h2">{{ shop.name }}</span>
        {% endif %}
      </a>
    </div>

    <!-- Menu -->
    {% if section.settings.menu != blank %}
      <nav class="list-menu d-flex menu-{{ section.settings.menu_position }}">
        {% for link in linklists[section.settings.menu].links %}
          <li><a href="{{ link.url }}">{{ link.title }}</a></li>
        {% endfor %}
      </nav>
    {% endif %}

    <!-- Icons -->
    <div class="header__icons">
      {% if section.settings.show_search_icon %}
        {% render 'header-search', input_id: 'Search-In-Modal' %}
      {% endif %}
      {% if shop.customer_accounts_enabled and section.settings.show_account_icon %}
        <a href="{% if customer %}{{ routes.account_url }}{% else %}{{ routes.account_login_url }}{% endif %}" class="header__icon header__icon--account">
          <span class="svg-wrapper">{{ 'icon-account.svg' | inline_asset_content }}</span>
        </a>
      {% endif %}
      {% if section.settings.show_cart_icon %}
        <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart">
          <span class="svg-wrapper">
            {% if cart == empty %}
              {{ 'icon-cart-empty.svg' | inline_asset_content }}
            {% else %}
              {{ 'icon-cart.svg' | inline_asset_content }}
            {% endif %}
          </span>
          {% if cart != empty %}
            <div class="cart-count-bubble"><span>{{ cart.item_count }}</span></div>
          {% endif %}
        </a>
      {% endif %}
    </div>

  </header>
</sticky-header>

<!-- âœ… CamelCase Fix -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    function toCamelCase(str) {
      return str
        .toLowerCase()
        .replace(/\b\w/g, char => char.toUpperCase());
    }
    document.querySelectorAll("nav.list-menu li a, .header__heading-link").forEach(el => {
      if (el.innerText.trim() !== "") {
        el.innerText = toCamelCase(el.innerText);
      }
    });
  });
</script>

{% schema %}
{
  "name": "Advanced Header",
  "class": "section-header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo_image",
      "label": "Custom Logo"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 400,
      "step": 10,
      "unit": "px",
      "label": "Logo Width",
      "default": 150
    },
    {
      "type": "select",
      "id": "logo_position",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left",
      "label": "Logo Position"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "Menu"
    },
    {
      "type": "select",
      "id": "menu_position",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center",
      "label": "Menu Position"
    },
    {
      "type": "checkbox",
      "id": "show_search_icon",
      "default": true,
      "label": "Show Search Icon"
    },
    {
      "type": "checkbox",
      "id": "show_account_icon",
      "default": true,
      "label": "Show Account Icon"
    },
    {
      "type": "checkbox",
      "id": "show_cart_icon",
      "default": true,
      "label": "Show Cart Icon"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "default": "scheme-1",
      "label": "Color scheme"
    }
  ]
}
{% endschema %}
